# 🔄 自动同步上游仓库指南

这个项目已配置为每天中午12点（北京时间）自动从原始仓库同步更新。

## 📅 同步时间表

- **自动同步**: 每天北京时间中午12:00
- **GitHub Actions**: 使用UTC时间04:00触发
- **手动触发**: 可以随时在GitHub Actions页面手动运行

## 🛠️ 配置说明

### GitHub Actions工作流
- 文件位置: `.github/workflows/sync-upstream.yml`
- 上游仓库: https://github.com/TrialLord/augment-trial-reset.git
- 自动检测更新并合并

### 本地同步脚本
- 文件位置: `sync-upstream.sh`
- 可以手动运行进行本地同步测试

## 🚀 使用方法

### 自动同步（推荐）
1. Fork的仓库会自动同步，无需手动操作
2. 每天检查是否有更新
3. 如有更新会自动合并并推送

### 手动同步
```bash
# 在本地运行同步脚本
bash sync-upstream.sh

# 或者在GitHub Actions页面手动触发工作流
```

## 🔍 监控同步状态

### GitHub Actions页面
- 访问你的仓库 → Actions 标签页
- 查看 "Sync with Upstream" 工作流运行状态
- 可以查看详细的同步日志

### 同步摘要
每次同步后会在Actions页面显示：
- ✅ 同步成功 / ℹ️ 已是最新版本
- 📊 详细的更改信息

## ⚠️ 注意事项

### 冲突处理
- 如果检测到合并冲突，自动同步会失败
- 需要手动解决冲突后重新推送
- 系统会自动创建备份分支保护本地更改

### 本地更改
- 建议在独立分支进行本地修改
- 主分支保持与上游同步
- 如有本地更改，系统会创建备份分支

### 权限要求
- 需要仓库的写入权限
- GitHub Actions需要能够推送到主分支

## 🔧 故障排除

### 同步失败
1. 检查GitHub Actions日志
2. 查看是否有合并冲突
3. 手动运行本地同步脚本测试

### 权限问题
1. 确保Fork的仓库开启了Actions
2. 检查GITHUB_TOKEN权限设置

### 时区调整
如需修改同步时间，编辑 `.github/workflows/sync-upstream.yml` 中的cron表达式：
```yaml
# 当前: 每天北京时间中午12点（UTC 04:00）
- cron: '0 4 * * *'

# 例如改为北京时间下午6点（UTC 10:00）
- cron: '0 10 * * *'
```

## 📊 同步详情

### 同步内容
- 所有代码文件更新
- 文档更新
- 配置文件变更
- 新功能和bug修复

### 同步方式
- 优先使用快进合并（fast-forward）
- 如无法快进则使用常规合并
- 保持完整的提交历史

---

🎯 **提示**: 建议定期检查Actions页面确保同步正常运行 